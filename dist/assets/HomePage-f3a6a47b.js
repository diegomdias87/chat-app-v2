import{r as c,c as V,a as w,j as a,b as g,S as Q,f as b,u as G,o as O,d as R,e as oe,g as H,h as $,i as le,R as N,A as ce,m as de}from"./index-4eb0b2ea.js";function ue(e){const t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function me(e,t){if(e!=null){if(typeof e=="function"){e(t);return}try{e.current=t}catch{throw new Error(`Cannot assign value '${t}' to ref '${e}'`)}}}function M(...e){return t=>{e.forEach(n=>{me(n,t)})}}function fe(...e){return c.useMemo(()=>M(...e),e)}function he(e){return c.Children.toArray(e).filter(t=>c.isValidElement(t))}var[We,xe]=V({strict:!1,name:"ButtonGroupContext"});function ge(e){const[t,n]=c.useState(!e);return{ref:c.useCallback(i=>{i&&n(i.tagName==="BUTTON")},[]),type:t?"button":void 0}}function L(e){const{children:t,className:n,...s}=e,r=c.isValidElement(t)?c.cloneElement(t,{"aria-hidden":!0,focusable:!1}):t,i=w("chakra-button__icon",n);return a.jsx(g.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...s,className:i,children:r})}L.displayName="ButtonIcon";function W(e){const{label:t,placement:n,spacing:s="0.5rem",children:r=a.jsx(Q,{color:"currentColor",width:"1em",height:"1em"}),className:i,__css:o,...u}=e,l=w("chakra-button__spinner",i),d=n==="start"?"marginEnd":"marginStart",m=c.useMemo(()=>({display:"flex",alignItems:"center",position:t?"relative":"absolute",[d]:t?s:0,fontSize:"1em",lineHeight:"normal",...o}),[o,t,d,s]);return a.jsx(g.div,{className:l,...u,__css:m,children:r})}W.displayName="ButtonSpinner";var X=b((e,t)=>{const n=xe(),s=G("Button",{...n,...e}),{isDisabled:r=n==null?void 0:n.isDisabled,isLoading:i,isActive:o,children:u,leftIcon:l,rightIcon:d,loadingText:m,iconSpacing:h="0.5rem",type:j,spinner:p,spinnerPlacement:C="start",className:y,as:x,...B}=O(e),P=c.useMemo(()=>{const F={...s==null?void 0:s._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...s,...!!n&&{_focus:F}}},[s,n]),{ref:S,type:k}=ge(x),I={rightIcon:d,leftIcon:l,iconSpacing:h,children:u};return a.jsxs(g.button,{ref:fe(t,S),as:x,type:j??k,"data-active":R(o),"data-loading":R(i),__css:P,className:w("chakra-button",y),...B,disabled:r||i,children:[i&&C==="start"&&a.jsx(W,{className:"chakra-button__spinner--start",label:m,placement:"start",spacing:h,children:p}),i?m||a.jsx(g.span,{opacity:0,children:a.jsx(U,{...I})}):a.jsx(U,{...I}),i&&C==="end"&&a.jsx(W,{className:"chakra-button__spinner--end",label:m,placement:"end",spacing:h,children:p})]})});X.displayName="Button";function U(e){const{leftIcon:t,rightIcon:n,children:s,iconSpacing:r}=e;return a.jsxs(a.Fragment,{children:[t&&a.jsx(L,{marginEnd:r,children:t}),s,n&&a.jsx(L,{marginStart:r,children:n})]})}var A=b((e,t)=>{const{icon:n,children:s,isRound:r,"aria-label":i,...o}=e,u=n||s,l=c.isValidElement(u)?c.cloneElement(u,{"aria-hidden":!0,focusable:!1}):null;return a.jsx(X,{padding:"0",borderRadius:r?"full":void 0,ref:t,"aria-label":i,...o,children:l})});A.displayName="IconButton";var[pe,ye]=V({name:"FormControlStylesContext",errorMessage:`useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormControl />" `}),[ve,Y]=V({strict:!1,name:"FormControlContext"});function be(e){const{id:t,isRequired:n,isInvalid:s,isDisabled:r,isReadOnly:i,...o}=e,u=c.useId(),l=t||`field-${u}`,d=`${l}-label`,m=`${l}-feedback`,h=`${l}-helptext`,[j,p]=c.useState(!1),[C,y]=c.useState(!1),[x,B]=c.useState(!1),P=c.useCallback((f={},v=null)=>({id:h,...f,ref:M(v,T=>{T&&y(!0)})}),[h]),S=c.useCallback((f={},v=null)=>({...f,ref:v,"data-focus":R(x),"data-disabled":R(r),"data-invalid":R(s),"data-readonly":R(i),id:f.id!==void 0?f.id:d,htmlFor:f.htmlFor!==void 0?f.htmlFor:l}),[l,r,x,s,i,d]),k=c.useCallback((f={},v=null)=>({id:m,...f,ref:M(v,T=>{T&&p(!0)}),"aria-live":"polite"}),[m]),I=c.useCallback((f={},v=null)=>({...f,...o,ref:v,role:"group"}),[o]),F=c.useCallback((f={},v=null)=>({...f,ref:v,role:"presentation","aria-hidden":!0,children:f.children||"*"}),[]);return{isRequired:!!n,isInvalid:!!s,isReadOnly:!!i,isDisabled:!!r,isFocused:!!x,onFocus:()=>B(!0),onBlur:()=>B(!1),hasFeedbackText:j,setHasFeedbackText:p,hasHelpText:C,setHasHelpText:y,id:l,labelId:d,feedbackId:m,helpTextId:h,htmlProps:o,getHelpTextProps:P,getErrorMessageProps:k,getRootProps:I,getLabelProps:S,getRequiredIndicatorProps:F}}var Ce=b(function(t,n){const s=oe("Form",t),r=O(t),{getRootProps:i,htmlProps:o,...u}=be(r),l=w("chakra-form-control",t.className);return a.jsx(ve,{value:u,children:a.jsx(pe,{value:s,children:a.jsx(g.div,{...i({},n),className:l,__css:s.container})})})});Ce.displayName="FormControl";var je=b(function(t,n){const s=Y(),r=ye(),i=w("chakra-form__helper-text",t.className);return a.jsx(g.div,{...s==null?void 0:s.getHelpTextProps(t,n),__css:r.helperText,className:i})});je.displayName="FormHelperText";function ke(e){const{isDisabled:t,isInvalid:n,isReadOnly:s,isRequired:r,...i}=_e(e);return{...i,disabled:t,readOnly:s,required:r,"aria-invalid":H(n),"aria-required":H(r),"aria-readonly":H(s)}}function _e(e){var t,n,s;const r=Y(),{id:i,disabled:o,readOnly:u,required:l,isRequired:d,isInvalid:m,isReadOnly:h,isDisabled:j,onFocus:p,onBlur:C,...y}=e,x=e["aria-describedby"]?[e["aria-describedby"]]:[];return r!=null&&r.hasFeedbackText&&(r!=null&&r.isInvalid)&&x.push(r.feedbackId),r!=null&&r.hasHelpText&&x.push(r.helpTextId),{...y,"aria-describedby":x.join(" ")||void 0,id:i??(r==null?void 0:r.id),isDisabled:(t=o??j)!=null?t:r==null?void 0:r.isDisabled,isReadOnly:(n=u??h)!=null?n:r==null?void 0:r.isReadOnly,isRequired:(s=l??d)!=null?s:r==null?void 0:r.isRequired,isInvalid:m??(r==null?void 0:r.isInvalid),onFocus:$(r==null?void 0:r.onFocus,p),onBlur:$(r==null?void 0:r.onBlur,C)}}function we(e,t){return Array.isArray(e)?e.map(n=>n===null?null:t(n)):le(e)?Object.keys(e).reduce((n,s)=>(n[s]=t(e[s]),n),{}):e!=null?t(e):null}var q=b(function(t,n){const s=G("Text",t),{className:r,align:i,decoration:o,casing:u,...l}=O(t),d=ue({textAlign:t.align,textDecoration:t.decoration,textTransform:t.casing});return a.jsx(g.p,{ref:n,className:w("chakra-text",t.className),...d,...l,__css:s})});q.displayName="Text";var Z=e=>a.jsx(g.div,{className:"chakra-stack__item",...e,__css:{display:"inline-block",flex:"0 0 auto",minWidth:0,...e.__css}});Z.displayName="StackItem";function Se(e){const{spacing:t,direction:n}=e,s={column:{my:t,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:t,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:t,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:t,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":we(n,r=>s[r])}}var ee=b((e,t)=>{const{isInline:n,direction:s,align:r,justify:i,spacing:o="0.5rem",wrap:u,children:l,divider:d,className:m,shouldWrapChildren:h,...j}=e,p=n?"row":s??"column",C=c.useMemo(()=>Se({spacing:o,direction:p}),[o,p]),y=!!d,x=!h&&!y,B=c.useMemo(()=>{const S=he(l);return x?S:S.map((k,I)=>{const F=typeof k.key<"u"?k.key:I,f=I+1===S.length,T=h?a.jsx(Z,{children:k},F):k;if(!y)return T;const ae=c.cloneElement(d,{__css:C}),ie=f?null:ae;return a.jsxs(c.Fragment,{children:[T,ie]},F)})},[d,C,y,x,h,l]),P=w("chakra-stack",m);return a.jsx(g.div,{ref:t,display:"flex",alignItems:r,justifyContent:i,flexDirection:p,flexWrap:u,gap:y?void 0:o,className:P,...j,children:B})});ee.displayName="Stack";var D=g("div");D.displayName="Box";var te=b(function(t,n){const{size:s,centerContent:r=!0,...i}=t,o=r?{display:"flex",alignItems:"center",justifyContent:"center"}:{};return a.jsx(D,{ref:n,boxSize:s,__css:{...o,flexShrink:0,flexGrow:0},...i})});te.displayName="Square";var Ie=b(function(t,n){const{size:s,...r}=t;return a.jsx(te,{size:s,ref:n,borderRadius:"9999px",...r})});Ie.displayName="Circle";var z=b(function(t,n){const{direction:s,align:r,justify:i,wrap:o,basis:u,grow:l,shrink:d,...m}=t,h={display:"flex",flexDirection:s,alignItems:r,justifyContent:i,flexWrap:o,flexBasis:u,flexGrow:l,flexShrink:d};return a.jsx(g.div,{ref:n,__css:h,...m})});z.displayName="Flex";function Ne(e,t=[]){const n=Object.assign({},e);for(const s of t)s in n&&delete n[s];return n}var Be=["h","minH","height","minHeight"],ne=b((e,t)=>{const n=G("Textarea",e),{className:s,rows:r,...i}=O(e),o=ke(i),u=r?Ne(n,Be):n;return a.jsx(g.textarea,{ref:t,rows:r,...o,className:w("chakra-textarea",s),__css:u})});ne.displayName="Textarea";const Fe=async e=>(await new Promise(t=>setTimeout(t,2e3)),"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum");var re={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},K=N.createContext&&N.createContext(re),_=globalThis&&globalThis.__assign||function(){return _=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},_.apply(this,arguments)},Te=globalThis&&globalThis.__rest||function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]]);return n};function se(e){return e&&e.map(function(t,n){return N.createElement(t.tag,_({key:n},t.attr),se(t.child))})}function E(e){return function(t){return N.createElement(Re,_({attr:_({},e.attr)},t),se(e.child))}}function Re(e){var t=function(n){var s=e.attr,r=e.size,i=e.title,o=Te(e,["attr","size","title"]),u=r||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),N.createElement("svg",_({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,o,{className:l,style:_(_({color:e.color||n.color},n.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),i&&N.createElement("title",null,i),e.children)};return K!==void 0?N.createElement(K.Consumer,null,function(n){return t(n)}):t(re)}function Pe(e){return E({tag:"svg",attr:{t:"1569683742680",viewBox:"0 0 1024 1024",version:"1.1"},child:[{tag:"defs",attr:{},child:[]},{tag:"path",attr:{d:"M931.4 498.9L94.9 79.5c-3.4-1.7-7.3-2.1-11-1.2-8.5 2.1-13.8 10.7-11.7 19.3l86.2 352.2c1.3 5.3 5.2 9.6 10.4 11.3l147.7 50.7-147.6 50.7c-5.2 1.8-9.1 6-10.3 11.3L72.2 926.5c-0.9 3.7-0.5 7.6 1.2 10.9 3.9 7.9 13.5 11.1 21.5 7.2l836.5-417c3.1-1.5 5.6-4.1 7.2-7.1 3.9-8 0.7-17.6-7.2-21.6zM170.8 826.3l50.3-205.6 295.2-101.3c2.3-0.8 4.2-2.6 5-5 1.4-4.2-0.8-8.7-5-10.2L221.1 403 171 198.2l628 314.9-628.2 313.2z"}}]})(e)}function ze(e){return E({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"}}]})(e)}const Oe=({onSubmit:e,onClear:t,isLoading:n,...s})=>{const r=c.useRef(null),i=(o,u=!1)=>{if((o==null?void 0:o.key)==="Enter"&&(o==null?void 0:o.shiftKey)===!1||u){if(o==null||o.preventDefault(),!r.current)return;const{value:l}=r.current;if(l===""){r.current.reportValidity();return}e(l),r.current.value=""}};return a.jsx(D,{id:"chat-input",padding:2,w:"100%",style:{bottom:8,position:"fixed",display:"flex",justifyContent:"center",alignItems:"center"},children:a.jsxs(ee,{w:"100%",bgColor:"purple.400",maxWidth:1e3,p:2,borderRadius:8,flexDirection:"row",children:[a.jsx(ne,{ref:r,onKeyDown:i,placeholder:"Provide prompt",textColor:"white",focusBorderColor:"white",resize:"none",_placeholder:{color:"whiteAlpha.700"},...s}),a.jsxs(z,{flexDir:"column",gap:1,children:[a.jsx(A,{isLoading:n,"aria-label":"Search",icon:a.jsx(Pe,{color:"purple"}),onClick:()=>i(void 0,!0)}),a.jsx(A,{"aria-label":"Search",icon:a.jsx(ze,{color:"purple"}),onClick:t})]})]})})};function De(e){return E({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21 10.975V8a2 2 0 0 0-2-2h-6V4.688c.305-.274.5-.668.5-1.11a1.5 1.5 0 0 0-3 0c0 .442.195.836.5 1.11V6H5a2 2 0 0 0-2 2v2.998l-.072.005A.999.999 0 0 0 2 12v2a1 1 0 0 0 1 1v5a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5a1 1 0 0 0 1-1v-1.938a1.004 1.004 0 0 0-.072-.455c-.202-.488-.635-.605-.928-.632zM7 12c0-1.104.672-2 1.5-2s1.5.896 1.5 2-.672 2-1.5 2S7 13.104 7 12zm8.998 6c-1.001-.003-7.997 0-7.998 0v-2s7.001-.002 8.002 0l-.004 2zm-.498-4c-.828 0-1.5-.896-1.5-2s.672-2 1.5-2 1.5.896 1.5 2-.672 2-1.5 2z"}}]})(e)}function Ee(e){return E({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2C6.579 2 2 6.579 2 12s4.579 10 10 10 10-4.579 10-10S17.421 2 12 2zm0 5c1.727 0 3 1.272 3 3s-1.273 3-3 3c-1.726 0-3-1.272-3-3s1.274-3 3-3zm-5.106 9.772c.897-1.32 2.393-2.2 4.106-2.2h2c1.714 0 3.209.88 4.106 2.2C15.828 18.14 14.015 19 12 19s-3.828-.86-5.106-2.228z"}}]})(e)}const He={type:"spring",stiffness:700,damping:30},Me=({message:e,type:t})=>a.jsx(ce,{children:a.jsxs(de.div,{animate:{opacity:1,y:0},initial:{opacity:0,y:20},layout:!0,transition:He,style:{marginTop:8,maxWidth:"80%",alignSelf:t==="user"?"flex-end":"flex-start",display:"flex",flexDirection:t==="user"?"row":"row-reverse"},children:[a.jsx(D,{bgColor:t==="user"?"gray.200":"purple.400",borderRadius:8,p:3,pb:4,children:e.state==="loading"?a.jsx(Q,{size:"sm"}):a.jsxs(a.Fragment,{children:[e.state==="error"&&a.jsx(q,{textColor:"red.700",fontWeight:"bold",children:"There was an error:"}),a.jsx(q,{textColor:t==="user"?"black":"white",children:e.content})]})}),a.jsxs(z,{mx:2,children:[t==="bot"&&a.jsx(De,{size:"1.9rem"}),t==="user"&&a.jsx(Ee,{size:"2rem"})]})]})}),J=(e,t,n)=>{e(s=>{const[,r,...i]=s;return[{message:{id:(Date.now()+1).toString(),state:t?"success":"error",content:n},type:"bot"},r,...i]})},Ae=()=>{var u;const e=c.useRef(null),[t,n]=c.useState([]),s=c.useMemo(()=>t.some(({message:l})=>l.state==="loading"),[t]),r=c.useCallback(l=>{n(d=>[{message:{id:(Date.now()+1).toString(),state:"loading",content:"Loading..."},type:"bot"},{message:{id:Date.now().toString(),state:"success",content:l},type:"user"},...d]),Fe().then(d=>{J(n,!0,d)}).catch(d=>{J(n,!1,d.message)}).then(()=>{e.current&&setTimeout(()=>{var d;(d=e.current)==null||d.scrollIntoView({behavior:"smooth",block:"end"})},100)})},[]),i=c.useCallback(()=>{n([])},[]),o=(((u=document.getElementById("chat-input"))==null?void 0:u.clientHeight)||200)+8;return a.jsxs(z,{minH:"100vh",width:"98vw",justifyContent:"center",mx:"auto",children:[a.jsx(z,{ref:e,flexDirection:"column-reverse",justifyContent:"flex-end",width:"100%",maxW:1e3,mt:4,marginBottom:o,scrollMarginBottom:o,children:[...t].map(({message:l,type:d})=>a.jsx(Me,{message:l,type:d},l.id))}),a.jsx(Oe,{onSubmit:r,onClear:i,isReadOnly:s,isRequired:!0,isLoading:s})]})};export{Ae as default};
